---

copyright:
 years: 2017
lastupdated: "2017-6-22"

---

{:new_window: target="_blank"}
{:shortdesc: .shortdesc}
{:screen:.screen}
{:codeblock:.codeblock}

# デプロイメントの実行
{: #deployment_run}

{{site.data.keyword.uccr_short}} を使用して、ソフトウェア・デプロイメントを実行します。デプロイメントを完了するには、デプロイメント計画内のタスクを解決します。
{:shortdesc}

デプロイメントは、計画の適格タスクの 1 つが開始すると開始されます。スケジュールされたデプロイメントは、適格タスクの 1 つが自動タスク (UrbanCode Deploy または遅延実行タイプのタスクなど) である場合、スケジュールされた時刻に自動的に開始されます。その他の場合、計画の適格タスクの 1 つを開始することによってデプロイメントを開始します。計画に複数の適格タスクが含まれている場合、それらのタスクのうちどれを開始してもかまいません。手動でのデプロイメントの開始はいつでも行うことができます。スケジュールされたデプロイメントを、スケジュールされた時刻より前に手動で開始することができます。   

デプロイメント計画の実行パターンによって、タスクが開始に適格になるタイミングが決まります。計画の実行パターンが順次 (これはデフォルトのパターンです) である場合、タスクは計画内にリストされている順序で、先頭タスクから順に適格になります。先頭タスクが解決すると、2 番目のタスクが適格になります。適格な手動タスクを開始するには、タスクの**「開始」**ボタンをクリックします。UrbanCode Deploy タスクなどの自動タスクは、適格になると即座に自動的に開始されます。

実行パターンが並列のグループ内のタスクは、同時に適格になります。並列グループ内のタスクは、任意の順序で開始できます。ネストされたグループおよびタスクに依存関係が生じて、実行パターンに影響することがあります。

デプロイメントを開始した後でデプロイメント計画を変更できます。タスクの追加、削除、および変更を行うことができます。

すべてのタスクが解決されると、デプロイメントは完了です。タスクは、その状況が`「完了」`、`「失敗」`、または`「スキップ (Skipped)」`であれば解決済みです。デプロイメントが完了した後で、タスクを再オープンするか、タスクを追加すると、デプロイメントの状況は`「進行中」`に変わります。

## 手動のデプロイメントの開始
{: #deployment_start}

後で開始するようにスケジュールされているデプロイメントも含めて、いつでもデプロイメントを手動で開始できます。

デプロイメント計画内のタスクは、デプロイメントに適用できない場合もあります。UrbanCode Deploy タスクは、タスクに対してバージョンまたは環境が指定されていない場合は、適用できません。UrbanCode Deploy タスクを作成するときに、**「バージョンの使用」**オプションを使用して、環境およびバージョンの選択を遅らせることができます。デプロイメント開始前に、すべての UrbanCode Deploy タスクが今度のデプロイメントに適用可能であることを確認してください。    

意図的にデプロイメントからタスクを除外することができます。タスクのタグをデプロイメントから除外することによって、それらのタグが付いたタスクを適用不可にすることができます。除外されたタグが付いたタスクは、デプロイメントには適用不可です。  

適用不可のタスクの状況は`「適用外」`です。`「適用外」`状況のタスクは開始できません。アクティブ・タスクの前提条件として適用不可のタスクがある場合、その依存関係は無視されます。  

デプロイメントを開始するには、以下の手順に従ってください。

1. 「デプロイメント計画」ページで、デプロイメントに使用したいデプロイメント計画をクリックします。「デプロイメントの詳細」ページが表示されます。

2. タグが付いたタスクを現行デプロイメントに適用不可にするには、**「バージョン」**をクリックし、**「タグ」**エリアで、タグをクリアします。1 つのタスクに複数のタグがある場合、それらをすべてクリアします。

2. 適用不可のすべての UrbanCode Deploy タスクのバージョンまたは環境を選択するには、**「バージョン」**をクリックし、環境およびバージョンを選択します。既に環境およびバージョンが選択されているタスクの選択内容を変更することもできます。

1. オプションで、**「適用不可タスクの非表示」**をクリックして、表示されるタスク・リストから適用不可タスクを除去します。非表示のタスクは、デプロイメント計画から削除されません。

1. 計画の適格タスクの 1 つに対して**「開始」**アクション <img class="inline" src="images/task-start.png"  alt="タスク開始アクション"> をクリックします。複数のタスクが適格である場合、それらのタスクのうち任意のタスクを開始できます。適格なタスクにのみ開始ボタンが表示されます。開始されたタスクは、解決されるまでは`「進行中」`の状況になります。

デプロイメントが開始すると、計画の状況は`「進行中」`に変わります。状況は、すべてのタスクが解決されるまでは`「進行中」`のままです。すべてのタスクが解決されると、計画の状況は`「完了」`に変わります。

## タスクの解決
{: #deployment_taskComplete}

デプロイメントを完了するには、デプロイメント計画内のタスクを解決します。開始されたタスクは、その状況が`「完了」`、`「失敗」`、または`「スキップ (Skipped)」`に変わると、解決済みです。

手動タスクを解決するには、適切な状況アクションを使用します。UrbanCode Deploy タスクなどの自動タスクは、状態が変化すると自動的に状況が変わります。ただし、自動タスクを手動で解決することも可能です。例えば、完了するのに時間がかかりすぎている UrbanCode Deploy タスクを手動で失敗させることができます。

開始したタスクを解決するには、以下のいずれかの状況を適用します。

<ul>
<li>タスクを終了するには、**「完了」** <img class="inline" src="images/task-complete.png"  alt="タスク完了アクション"> をクリックします。`「完了」`は、予期された結果でタスクが終了したことを意味します。
</li>
<li>現行デプロイメントのタスクをスキップするには、**「スキップ」** <img class="inline" src="images/task-skip.png"  alt="タスクのスキップ・アクション"> をクリックします。
</li>
<li>タスクを終了するには、**「失敗」** <img class="inline" src="images/task-fail.png"  alt="タスク失敗アクション"> をクリックします。`「失敗」`は、タスクが終了しなかったか、または、予期しない結果でタスクが終了したことを意味します。
</li>
<li>解決済みのタスクをオープンするには、**「タスク再オープン」** <img class="inline" src="images/task-reopen.png"  alt="タスク再オープン・アクション"> をクリックします。すべてのタスクが完了済みの場合、1 つのタスクを再オープンすると、デプロイメントが再オープンされます。
</li>
</ul>

## スケジュールされたデプロイメントの実行
{: #deployment_startSchedule}

スケジュールされたデプロイメントは、デプロイメントの自動タスクのいずれかが開始に適格であれば、スケジュールされた時刻に自動的に開始されます。デプロイメント計画に適格な自動タスクが含まれていない場合、適格なタスクの 1 つを手動で開始することによって、デプロイメントを開始してください。

適格な自動タスクが計画に含まれている場合であっても、スケジュールされたデプロイメントをいつでも手動で開始することができます。
